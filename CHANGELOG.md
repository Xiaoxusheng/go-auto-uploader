---

# 📝 Go Auto Uploader 迭代更新日志 (Changelog)

## 🚀 最新特性 (Features)

### 🖥️ 前端与交互体验 (UI/UX)

* **电竞级网络延迟监测 (Ping)**：为 WebSocket 实时信道新增了毫秒级的 Ping 值探测。前端每 5 秒发送一次时间戳探针，配合红、橙、绿三色动态预警，完美感知当前系统与浏览器的网络连通质量。
* **智能配置对比与富文本通知 (Rich Notifications)**：
* 重构了系统参数保存逻辑，新增**配置快照 (Snapshot)** 对比。修改配置后，右下角会弹出优雅的差异化清单（例：`🚀 并发数: 3 ➜ 5`）。
* 自动/手动触发扫描时，右下角会弹出包含“定时周期”、“并发线程数”及“挂载目录数”的数据化横幅提醒；扫描结束时会汇报本轮发现的新文件数量。


* **全局安全操作防护 (Safety Modals)**：为“清空队列”、“停止系统”、“重置远端”等敏感操作引入了带遮罩层的二次确认弹窗，针对高危指令（如“停止系统”）定制了专属警告语，彻底杜绝鼠标误触。
* **系统级视觉完善**：
* 引入了纯代码生成的 SVG `🚀` Base64 矢量图标 (Favicon)，解决了浏览器标签页空白不专业的问题。
* **全新空状态设计 (Empty States)**：为实时任务和历史记录表格设定了 `400px+` 的安全最小高度，并设计了带有巨型透明 Arco Icon 的居中占位图，解决了无数据时页面高度坍塌、排版跳动的问题。
* **终端日志自动追尾**：修复了日志刷新时的滚动逻辑，新日志产生后容器会自动 `scrollTop = scrollHeight` 滑动到最底部，高度还原真实的物理终端体验。



### ⚙️ 后端引擎与核心逻辑 (Backend)

* **全局日志拦截投射 (Global Log Interceptor)**：
* 舍弃了各处分散的硬编码推流，重构了底层标准库 `log.SetOutput`。
* 现在的引擎能够自动捕获所有物理控制台输出，剥离冗余的日期前缀，自动识别 `[ERR]` / `[WARN]` 关键字进行危险评级，并毫秒级投射到 Web 前端。


* **高并发反射探针 (WS Reflector)**：重构了 `handleWebSocket` 路由，加入了 `sync.Mutex` 互斥锁，支持无损、并发地处理并即刻原路弹回前端发送的 `ping` 消息。

---

## 🐞 修复与优化 (Bug Fixes & Optimizations)

* **修复目录监控数据停滞 (Stats Bug)**：解决了文件在“真实上传成功”或“哈希秒传成功”后，首页目录卡片中的【已上传文件数】和【上传量】始终为 0 的 Bug。现已加入 `updateSuccessStats` 钩子，数据即刻联动跳动。
* **修复并发状态显示脱节**：修复了控制台定期打印 `[QUEUE][STATUS]` 时，并发线程数永远显示启动时命令行的初始值的问题。现已改为动态加锁读取 `appConfig.Workers`，确保修改并发数后日志显示立即同步。
* **代码层级解耦**：清理了废弃的静态变量限制，统一由内存中的 `appConfigMu.RLock()` 统筹全权接管全局参数，使得并发、限速、扫描周期的“热更新”能力真正做到滴水不漏。

---

## 📜 文档与规范 (Documentation)

* **标准化开源库主页**：起草了带有特性说明、启动参数表、API 规范以及带占位符的 6 图展示位的标准企业级 `README.md`。
* **开源协议合规**：引入了极度宽松友好的 `MIT License` 声明，为项目的后续传播与二次开发打下基础。