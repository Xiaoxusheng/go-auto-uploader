ä¸‹é¢æ˜¯**é’ˆå¯¹ Vue + Arco Design å‰ç«¯ UI æ¡†æ¶é‡æ–°æ•´ç†çš„ Web çœ‹æ¿éœ€æ±‚æ–‡æ¡£ï¼ˆPRDï¼‰**ã€‚
é£æ ¼ä¸Šä¼šæ›´è´´è¿‘ **Vue + Arco** ç»„ä»¶è®¾è®¡åŸåˆ™ï¼Œå¹¶ä¸”ç»“æ„æ›´è§„èŒƒã€æ¨¡å—æ›´æ¸…æ™°ã€‚

---

# ğŸ“˜ Uploader Dashboard PRDï¼ˆVue + Arco Designï¼‰

## ä¸€ã€æ¦‚è¿°

**äº§å“åç§°**ï¼šUploader å¯è§†åŒ–æ§åˆ¶å°
**å‰ç«¯æŠ€æœ¯**ï¼šVue 3 + Vite + Pinia + Arco Design
**åç«¯æŠ€æœ¯**ï¼šGo å†…ç½® Web Server + REST API + WebSocket
**è¿è¡Œæ–¹å¼**ï¼šç‹¬ç«‹å¯åŠ¨è®¿é—®ï¼ˆä¾‹å¦‚ [http://127.0.0.1:8080ï¼‰](http://127.0.0.1:8080ï¼‰)

---

## äºŒã€è®¾è®¡åŸåˆ™

âœ… ç»„ä»¶å¯å¤ç”¨
âœ… å“åº”å¼äº¤äº’
âœ… å®æ—¶æ•°æ®åˆ·æ–°
âœ… æ¸…æ™°è§†è§‰å±‚çº§
âœ… æ“ä½œå‹å¥½ã€é”™è¯¯å¯è§
âœ… é€‚é…æ·±è‰² / æµ…è‰²ï¼ˆå¯é€‰ï¼‰

**UI å‚è€ƒ**ï¼šArco Design Vue ç»„ä»¶åº“
æ–‡æ¡£ï¼š[https://arco.design/vue/docs/pro/start](https://arco.design/vue/docs/pro/start)

---

## ä¸‰ã€ç”¨æˆ·è§’è‰²

| è§’è‰²  | æƒé™        |
| --- | --------- |
| ç®¡ç†å‘˜ | å…¨åŠŸèƒ½       |
| è¿ç»´  | å®æ—¶ç›‘æ§ & æ§åˆ¶ |
| è®¿å®¢  | ä»…è¯»å–çŠ¶æ€     |

> åˆæœŸç‰ˆæœ¬ä¸åšæƒé™ç»†åˆ†ï¼Œç™»å½•è§†ä¸ºç®¡ç†å‘˜

---

# å››ã€é¡µé¢åŠŸèƒ½è®¾è®¡

---

## ğŸ“Œ 1. ç™»å½•é¡µï¼ˆLoginï¼‰

### ç›®æ ‡

è´¦å· + å¯†ç  + OTP ç™»å½•ç³»ç»Ÿ

### UI ç»“æ„

* Arco Form è¡¨å•
* è¾“å…¥ï¼šç”¨æˆ·åã€å¯†ç 
* OTPï¼ˆå¯é€‰ï¼‰
* ç™»å½•æŒ‰é’®
* é”™è¯¯æç¤º

---

## ğŸ“Œ 2. å…¨å±€å¸ƒå±€ï¼ˆLayoutï¼‰

### é™æ€ç»“æ„

```
Header
â”‚  Logo
â”‚  Token çŠ¶æ€
â”‚  ç™»å½•çŠ¶æ€
â”‚  å¤´åƒ + èœå•
Sidebar
â”‚  Dashboard
â”‚  Upload Monitor
â”‚  Queue
â”‚  History
â”‚  Config
â”‚  Logs
Main Content (Router View)
Footer
```

---

## ğŸ“Œ 3. Dashboardï¼ˆæ€»è§ˆï¼‰

### æ ¸å¿ƒç›®æ ‡

ç³»ç»Ÿæ•´ä½“çŠ¶æ€ä¸€å±å¯è¯»

### ç»Ÿè®¡å¡ç‰‡

ä½¿ç”¨ Arco Card + Grid

| ç»Ÿè®¡é¡¹       | UI              |
| --------- | --------------- |
| å½“å‰çŠ¶æ€      | Tagï¼šè¿è¡Œä¸­ / åœæ­¢    |
| Token çŠ¶æ€  | Tag + å€’è®¡æ—¶       |
| æ‰«æç›®å½•æ•°     | Card            |
| Worker æ•°é‡ | Card            |
| å½“å‰é€Ÿç‡      | Progress + Text |
| ä»Šæ—¥ä¸Šä¼ æˆåŠŸ    | Large Number    |
| ä»Šæ—¥ä¸Šä¼ å¤±è´¥    | Large Number    |
| æœ¬æ¬¡è¿è¡Œæ—¶é•¿    | Clock           |
| CPU / å†…å­˜  | å¯é€‰              |

---

## ğŸ“Œ 4. å®æ—¶ä¸Šä¼ ç›‘æ§ï¼ˆLive Uploadï¼‰

### ç›®æ ‡

å¯å®æ—¶æŸ¥çœ‹å½“å‰æ­£åœ¨ä¸Šä¼ çš„ä»»åŠ¡

### ä¸»è¦ç»„ä»¶

* Tableï¼ˆArco Tableï¼‰
* WebSocket è®¢é˜…å®æ—¶æ•°æ®æ›´æ–°
* å½“å‰è¿›åº¦æ¡ + çŠ¶æ€

### æ ä½

| åˆ—      | æè¿°                     |
| ------ | ---------------------- |
| æ–‡ä»¶å    | name                   |
| æœ¬åœ°è·¯å¾„   | path                   |
| è¿œç«¯è·¯å¾„   | remote                 |
| å¤§å°     | size                   |
| ä¸Šä¼ è¿›åº¦   | Arco ProgressBar       |
| ä¸Šä¼ é€Ÿåº¦   | speed                  |
| Worker | ID                     |
| çŠ¶æ€     | uploading/success/fail |
| é‡è¯•     | retry count            |
| æ“ä½œ     | å–æ¶ˆ/é‡è¯•æŒ‰é’®                |

### äº¤äº’

* è‡ªåŠ¨å®æ—¶åˆ·æ–°
* æ”¯æŒæœç´¢ã€æ’åºã€è¿‡æ»¤ï¼ˆæ–‡ä»¶åï¼‰
* æ”¯æŒç»ˆæ­¢ä»»åŠ¡

---

## ğŸ“Œ 5. ä¸Šä¼ é˜Ÿåˆ—ï¼ˆQueueï¼‰

| åŒºåŸŸ   | æè¿°     |
| ---- | ------ |
| ç­‰å¾…é˜Ÿåˆ— | å¾…ä¸Šä¼     |
| ä¸Šä¼ ä¸­  | ä¸Šä¼ ä¸­çš„ä»»åŠ¡ |
| æˆåŠŸ   | å·²æˆåŠŸ    |
| å¤±è´¥   | å¤±è´¥é˜Ÿåˆ—   |
| é‡è¯•   | æ­£åœ¨é‡è¯•   |

### UI å½¢å¼

* Tabs + Tables
* æ”¯æŒåˆ†é¡µ & æœç´¢

---

## ğŸ“Œ 6. ä¸Šä¼ å†å²ï¼ˆHistoryï¼‰

### ç›®æ ‡

å±•ç¤ºå†å²ä¸Šä¼ è®°å½•

### UI ç±»å‹

* Arco Table
* æ”¯æŒåˆ†é¡µ
* æ”¯æŒç­›é€‰ï¼ˆæŒ‰æ—¶é—´ / çŠ¶æ€ / æ–‡ä»¶åï¼‰

### å­—æ®µ

| å­—æ®µ   | è¯´æ˜             |
| ---- | -------------- |
| ä¸Šä¼ æ—¶é—´ | æ—¶é—´æˆ³            |
| æ–‡ä»¶å  | name           |
| å¤§å°   | size           |
| æœ¬åœ°è·¯å¾„ | local path     |
| è¿œç¨‹è·¯å¾„ | remote         |
| çŠ¶æ€   | success / fail |
| ç”¨æ—¶   | duration       |
| é”™è¯¯åŸå›  | error msg      |

---

## ğŸ“Œ 7. ç›®å½•ç›‘æ§ï¼ˆDirectory Monitorï¼‰

### ç›®æ ‡

ç›‘æ§æ‰«æç›®å½•çŠ¶æ€

### å†…å®¹

* ç›®å½•è·¯å¾„
* å½“å‰æ–‡ä»¶æ•°
* æ–°å¢æ–‡ä»¶æ•° / åˆ†é’Ÿ
* æ‰«æè€—æ—¶
* é”™è¯¯æ¬¡æ•°

### UI

* Arco Table
* æˆ– Grid Card

---

## ğŸ“Œ 8. ç³»ç»Ÿé…ç½®ï¼ˆConfigï¼‰

### å¯é…ç½®é¡¹

| åç§°        | ç±»å‹     | è¯´æ˜   |
| --------- | ------ | ---- |
| æ‰«æé—´éš”      | number | å°æ—¶   |
| Worker æ•°é‡ | number |      |
| ç™½å¤©é™é€Ÿ      | number | MB/s |
| å¤œæ™šé™é€Ÿ      | number | MB/s |
| é‚®ä»¶ç»Ÿè®¡é—´éš”    | number | åˆ†é’Ÿ   |
| åœæ­¢/å¯åŠ¨     | switch |      |

---

## ğŸ“Œ 9. æ§åˆ¶æ“ä½œé¢æ¿ï¼ˆControlï¼‰

### æŒ‰é’®æ“ä½œ

| æ“ä½œ     | è¯´æ˜               |
| ------ | ---------------- |
| å¯åŠ¨æ‰«æ   | Start            |
| æš‚åœ     | Pause            |
| åœæ­¢     | Stop             |
| é‡æ–°ç™»å½•   | Relogin          |
| é‡æ–°æ‰«æ   | Rescan           |
| æ¸…ç©ºå¤±è´¥é˜Ÿåˆ— | Clear Fail Queue |

---

## ğŸ“Œ 10. Token & è®¤è¯çŠ¶æ€

| æ•°æ®       | æè¿°  |
| -------- | --- |
| å½“å‰ token | æ˜¾ç¤º  |
| æœ‰æ•ˆæœŸ      | å€’è®¡æ—¶ |
| æœ€è¿‘ç™»å½•     | æ—¶é—´  |
| ç™»å½•å¤±è´¥æ¬¡æ•°   | æ¬¡æ•°  |

---

## ğŸ“Œ 11. ç³»ç»Ÿæ—¥å¿—ä¸­å¿ƒï¼ˆLogsï¼‰

### ä¸»è¦åŠŸèƒ½

* å®æ—¶æ—¥å¿—æ»šåŠ¨
* å…³é”®é”™è¯¯é«˜äº®
* æœç´¢ & å…³é”®å­—è¿‡æ»¤
* ä¸‹è½½æ—¥å¿—

### UI

* Arco Table + Log Viewer
* æ”¯æŒæ—¥å¿—çº§åˆ«ç­›é€‰

---

# ğŸ§© API è®¾è®¡

---

## REST APIï¼šçŠ¶æ€

```
GET /api/v1/status
```

è¿”å›ï¼š

```jsonc
{
  "running": true,
  "tokenValid": true,
  "workers": 5,
  "dirs": ["/data/a","/data/b"],
  "scanInterval": 1,
  "rate": 20,
  "dayRate": 20,
  "nightRate": 80
}
```

---

## å®æ—¶ä»»åŠ¡

```
GET /api/v1/tasks/live
```

è¿”å›ï¼š

```json
[
  { "id": "...", "name":"file1.mp4", ... }
]
```

---

## å†å²

```
GET /api/v1/tasks/history?page=1&limit=50
```

---

## é˜Ÿåˆ—åˆ†ç±»

```
GET /api/v1/tasks/queue
```

è¿”å›ï¼š

```json
{
  "waiting": [...],
  "uploading": [...],
  "success": [...],
  "fail": [...]
}
```

---

## æ§åˆ¶ API

```
POST /api/v1/control/start
POST /api/v1/control/pause
POST /api/v1/control/relogin
POST /api/v1/control/rescan
```

---

## ç›®å½•ç›‘æ§ API

```
GET /api/v1/dirs/status
```

---

## WebSocketï¼ˆå®æ—¶æ¨é€ï¼‰

```
ws://127.0.0.1:8080/ws/live
```

äº‹ä»¶ï¼š

* uploadProgress
* newTask
* taskDone
* queueUpdate

---

# ğŸ§  å…¨å±€çŠ¶æ€ç®¡ç†

æ¨èä½¿ç”¨ **Pinia**

```
store/app.ts         # å…¨å±€é…ç½®
store/task.ts        # å®æ—¶ä»»åŠ¡
store/history.ts     # å†å²
store/queue.ts       # é˜Ÿåˆ—
store/dirs.ts        # ç›®å½•ç›‘æ§
```

---

# ğŸ§  è·¯ç”±è®¾è®¡ï¼ˆVue Routerï¼‰

```
/login
/dashboard
/upload/live
/upload/queue
/upload/history
/config
/logs
```

---

# UI ç»„ä»¶å¯¹ç…§è¡¨ï¼ˆä¸»è¦ä½¿ç”¨ Arcoï¼‰

| åœºæ™¯        | Arco ç»„ä»¶                        |
| --------- | ------------------------------ |
| è¡¨æ ¼        | Table                          |
| åˆ†é¡µ        | Pagination                     |
| è¡¨å•        | Form / Input / Select / Switch |
| æŒ‰é’®        | Button                         |
| å®æ—¶è¿›åº¦      | Progress                       |
| å¡ç‰‡å¸ƒå±€      | Card / Grid                    |
| Modal     | Modal/Dialog                   |
| é€šçŸ¥        | Notification                   |
| æç¤º        | Message / Tooltip              |
| å›¾è¡¨        | å¯é… Chart.js / ECharts          |
| WebSocket | åŸç”Ÿ + Pinia                     |

---

# ğŸ å¼€å‘è®¡åˆ’

---

## Phase-1 æ ¸å¿ƒä¸Šçº¿

| åŠŸèƒ½        | ETA    |
| --------- | ------ |
| Dashboard | 1 day  |
| å®æ—¶ä¸Šä¼       | 2 days |
| é˜Ÿåˆ—        | 2 days |
| å†å²        | 2 days |
| æ§åˆ¶        | 1 day  |
| Token çŠ¶æ€  | 1 day  |
| WebSocket | 1 day  |
| REST API  | 2 days |
| åŸºç¡€æ—¥å¿—      | 1 day  |

---

## Phase-2 åŠŸèƒ½å¢å¼º

* æ–‡ä»¶ä¸‹è½½
* é«˜çº§ç­›é€‰
* æ‹–æ‹½ä¸Šä¼ å†å²å¯¼å‡º
* å¯è§†åŒ–å›¾è¡¨ï¼ˆEChartsï¼‰
* æ·±è‰²ä¸»é¢˜
* æƒé™ç³»ç»Ÿ

---

## Phase-3 ä¼ä¸šçº§æ‰©å±•

* å¤šèŠ‚ç‚¹ç®¡ç†
* é›†ç¾¤æ§åˆ¶
* å‘Šè­¦ç­–ç•¥ï¼ˆé‚®ä»¶/SMS/ä¼ä¸šå¾®ä¿¡ï¼‰
* æ¥å…¥ Prometheus ç›‘æ§
* å¤šè¯­è¨€ UI

---

# ğŸ“Œ é£é™© & æ³¨æ„ç‚¹

ğŸ’¡ Frontend ä¸ Backend é€šä¿¡ç‰ˆæœ¬éœ€é”å®š
ğŸ’¡ WebSocket å¯é æ€§éœ€è¦é‡è¿æœºåˆ¶
ğŸ’¡ UI é¢‘ç‡éœ€èŠ‚æµé˜²æŠ–
ğŸ’¡ API éœ€å¸¦ token æ ¡éªŒ
ğŸ’¡ ä¸»é¡µéœ€è‡ªåŠ¨åˆ·æ–°

---

# ğŸ§  æ€»ç»“

ä½ è¦åšçš„ä¸æ˜¯ä¸€ä¸ªç®€å•çš„æ§åˆ¶å°ï¼Œ
è€Œæ˜¯ä¸€ä¸ª**å®æ—¶å¯è§†åŒ–ç›‘æ§ + æ§åˆ¶å¹³å°**ï¼š

ğŸ“ˆ çŠ¶æ€ç›‘æ§
ğŸ“Š å®æ—¶æ•°æ®
âš¡ æ§åˆ¶æ“ä½œ
ğŸ’¾ å†å²è¿½è¸ª
ğŸ“ ä»»åŠ¡é˜Ÿåˆ—
ğŸ“¢ å¼‚å¸¸æç¤º
ğŸ” Token ç®¡ç†

---

å¦‚æœé€šè¿‡è¿™ä¸ªæ–‡æ¡£ç¡®è®¤æ–¹å‘ï¼Œæˆ‘å¯ä»¥ç»™ä½ æ¥ä¸‹æ¥çš„ï¼š

ğŸ“Œ åç«¯ API å®ç°ç¤ºä¾‹
ğŸ“Œ WebSocket æ¨é€æ¡†æ¶ä»£ç 
ğŸ“Œ Vue + Arco é¡¹ç›®åŸºç¡€æ ·æ¿
ğŸ“Œ Page æ¨¡æ¿ & ç»„ä»¶åŸºç¡€ä»£ç 
ğŸ“Œ Pinia çŠ¶æ€ç®¡ç†ç¤ºä¾‹
ğŸ“Œ è°ƒè¯•å’Œå¼€å‘æŒ‡å—
